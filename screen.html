<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏±‡∏î‡∏Å‡∏£‡∏≠‡∏á‡∏°‡∏∞‡πÄ‡∏£‡πá‡∏á‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;500;600;700&display=swap');
        body { font-family: 'Sarabun', sans-serif; }
        .medical-gradient { background: linear-gradient(135deg, #2563eb 0%, #1e40af 100%); }
        .medical-card { box-shadow: 0 4px 20px rgba(0,0,0,0.08); border: 1px solid #e5e7eb; }
    </style>
</head>
<body class="bg-gray-50">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        const CancerScreeningSystem = () => {
            const [formData, setFormData] = useState({
                // ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ
                age: '',
                gender: '',
                height: '',
                weight: '',
                
                // ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏£‡∏±‡∏ß
                familyBreastCancer: 'no',
                familyColorectalCancer: 'no',
                familyLiverCancer: 'no',
                familyLungCancer: 'no',
                familyProstateCancer: 'no',
                familyOvarianCancer: 'no',
                
                // ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß
                personalCancerHistory: 'no',
                smokingHistory: 'no',
                alcoholConsumption: 'no',
                hepatitisB: 'no',
                hepatitisC: 'no',
                hpvInfection: 'no',
                
                // ‡∏û‡∏§‡∏ï‡∏¥‡∏Å‡∏£‡∏£‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á
                exerciseRegularly: 'yes',
                healthyDiet: 'yes',
                sunExposure: 'no',
                occupationalExposure: 'no',
                
                // ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏Å‡∏©‡∏≤
                hormonalTherapy: 'no',
                radiationHistory: 'no',
                immunosuppression: 'no'
            });

            const [results, setResults] = useState(null);
            const [currentSection, setCurrentSection] = useState(0);

            const formSections = [
                {
                    title: "‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ",
                    icon: "üë§",
                    fields: [
                        { key: 'age', label: '‡∏≠‡∏≤‡∏¢‡∏∏ (‡∏õ‡∏µ)', type: 'number', required: true, min: 18, max: 120 },
                        { 
                            key: 'gender', 
                            label: '‡πÄ‡∏û‡∏®', 
                            type: 'select',
                            options: [
                                { value: '', label: '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å' },
                                { value: 'male', label: '‡∏ä‡∏≤‡∏¢' },
                                { value: 'female', label: '‡∏´‡∏ç‡∏¥‡∏á' }
                            ],
                            required: true 
                        },
                        { key: 'height', label: '‡∏™‡πà‡∏ß‡∏ô‡∏™‡∏π‡∏á (‡∏ã‡∏°.)', type: 'number', required: true, min: 100, max: 250 },
                        { key: 'weight', label: '‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å (‡∏Å‡∏Å.)', type: 'number', required: true, min: 30, max: 300 }
                    ]
                },
                {
                    title: "‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏£‡∏±‡∏ß",
                    icon: "üë®‚Äçüë©‚Äçüëß‚Äçüë¶",
                    fields: [
                        { key: 'familyBreastCancer', label: '‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏°‡∏∞‡πÄ‡∏£‡πá‡∏á‡πÄ‡∏ï‡πâ‡∏≤‡∏ô‡∏°‡πÉ‡∏ô‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏£‡∏±‡∏ß', type: 'radio', score: { yes: 2, no: 0 } },
                        { key: 'familyColorectalCancer', label: '‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏°‡∏∞‡πÄ‡∏£‡πá‡∏á‡∏•‡∏≥‡πÑ‡∏™‡πâ‡πÉ‡∏´‡∏ç‡πà‡πÉ‡∏ô‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏£‡∏±‡∏ß', type: 'radio', score: { yes: 2, no: 0 } },
                        { key: 'familyLiverCancer', label: '‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏°‡∏∞‡πÄ‡∏£‡πá‡∏á‡∏ï‡∏±‡∏ö‡πÉ‡∏ô‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏£‡∏±‡∏ß', type: 'radio', score: { yes: 2, no: 0 } },
                        { key: 'familyLungCancer', label: '‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏°‡∏∞‡πÄ‡∏£‡πá‡∏á‡∏õ‡∏≠‡∏î‡πÉ‡∏ô‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏£‡∏±‡∏ß', type: 'radio', score: { yes: 2, no: 0 } },
                        { key: 'familyProstateCancer', label: '‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏°‡∏∞‡πÄ‡∏£‡πá‡∏á‡∏ï‡πà‡∏≠‡∏°‡∏•‡∏π‡∏Å‡∏´‡∏°‡∏≤‡∏Å‡πÉ‡∏ô‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏£‡∏±‡∏ß', type: 'radio', score: { yes: 2, no: 0 } },
                        { key: 'familyOvarianCancer', label: '‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏°‡∏∞‡πÄ‡∏£‡πá‡∏á‡∏£‡∏±‡∏á‡πÑ‡∏Ç‡πà‡πÉ‡∏ô‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏£‡∏±‡∏ß', type: 'radio', score: { yes: 2, no: 0 } }
                    ]
                },
                {
                    title: "‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß‡πÅ‡∏•‡∏∞‡πÇ‡∏£‡∏Ñ‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ï‡∏±‡∏ß",
                    icon: "üè•",
                    fields: [
                        { key: 'personalCancerHistory', label: '‡πÄ‡∏Ñ‡∏¢‡πÄ‡∏õ‡πá‡∏ô‡∏°‡∏∞‡πÄ‡∏£‡πá‡∏á‡∏°‡∏≤‡∏Å‡πà‡∏≠‡∏ô', type: 'radio', score: { yes: 3, no: 0 } },
                        { key: 'hepatitisB', label: '‡∏ï‡∏¥‡∏î‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡πÑ‡∏ß‡∏£‡∏±‡∏™‡∏ï‡∏±‡∏ö‡∏≠‡∏±‡∏Å‡πÄ‡∏™‡∏ö‡∏ö‡∏µ', type: 'radio', score: { yes: 2, no: 0 } },
                        { key: 'hepatitisC', label: '‡∏ï‡∏¥‡∏î‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡πÑ‡∏ß‡∏£‡∏±‡∏™‡∏ï‡∏±‡∏ö‡∏≠‡∏±‡∏Å‡πÄ‡∏™‡∏ö‡∏ã‡∏µ', type: 'radio', score: { yes: 2, no: 0 } },
                        { key: 'hpvInfection', label: '‡∏ï‡∏¥‡∏î‡πÄ‡∏ä‡∏∑‡πâ‡∏≠ HPV', type: 'radio', score: { yes: 2, no: 0 } },
                        { key: 'hormonalTherapy', label: '‡πÉ‡∏ä‡πâ‡∏Æ‡∏≠‡∏£‡πå‡πÇ‡∏°‡∏ô‡∏ó‡∏î‡πÅ‡∏ó‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏ß‡∏•‡∏≤‡∏ô‡∏≤‡∏ô', type: 'radio', score: { yes: 1, no: 0 } },
                        { key: 'radiationHistory', label: '‡πÄ‡∏Ñ‡∏¢‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏£‡∏±‡∏á‡∏™‡∏µ‡πÉ‡∏ô‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì‡∏™‡∏π‡∏á', type: 'radio', score: { yes: 2, no: 0 } }
                    ]
                },
                {
                    title: "‡∏û‡∏§‡∏ï‡∏¥‡∏Å‡∏£‡∏£‡∏°‡πÅ‡∏•‡∏∞‡πÑ‡∏•‡∏ü‡πå‡∏™‡πÑ‡∏ï‡∏•‡πå",
                    icon: "üö¨",
                    fields: [
                        { key: 'smokingHistory', label: '‡∏™‡∏π‡∏ö‡∏ö‡∏∏‡∏´‡∏£‡∏µ‡πà‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏Ñ‡∏¢‡∏™‡∏π‡∏ö', type: 'radio', score: { yes: 3, no: 0 } },
                        { key: 'alcoholConsumption', label: '‡∏î‡∏∑‡πà‡∏°‡πÅ‡∏≠‡∏•‡∏Å‡∏≠‡∏Æ‡∏≠‡∏•‡πå‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏£‡∏∞‡∏à‡∏≥', type: 'radio', score: { yes: 1, no: 0 } },
                        { key: 'exerciseRegularly', label: '‡∏≠‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏¢‡∏™‡∏°‡πà‡∏≥‡πÄ‡∏™‡∏°‡∏≠', type: 'radio', score: { yes: 0, no: 1 } },
                        { key: 'healthyDiet', label: '‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏ó‡∏≤‡∏ô‡∏ú‡∏±‡∏Å‡∏ú‡∏•‡πÑ‡∏°‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏£‡∏∞‡∏à‡∏≥', type: 'radio', score: { yes: 0, no: 1 } },
                        { key: 'sunExposure', label: '‡πÇ‡∏î‡∏ô‡πÅ‡∏™‡∏á‡πÅ‡∏î‡∏î‡∏à‡∏±‡∏î‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏£‡∏∞‡∏à‡∏≥', type: 'radio', score: { yes: 1, no: 0 } },
                        { key: 'occupationalExposure', label: '‡∏™‡∏±‡∏°‡∏ú‡∏±‡∏™‡∏™‡∏≤‡∏£‡πÄ‡∏Ñ‡∏°‡∏µ/‡∏°‡∏•‡∏û‡∏¥‡∏©‡πÉ‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô', type: 'radio', score: { yes: 2, no: 0 } }
                    ]
                }
            ];

            const calculateBMI = () => {
                const height = parseFloat(formData.height) / 100; // convert to meters
                const weight = parseFloat(formData.weight);
                if (height && weight) {
                    return (weight / (height * height)).toFixed(1);
                }
                return null;
            };

            const getBMICategory = (bmi) => {
                if (bmi < 18.5) return { category: '‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏ô‡πâ‡∏≠‡∏¢', color: 'text-blue-600' };
                if (bmi < 23) return { category: '‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏õ‡∏Å‡∏ï‡∏¥', color: 'text-green-600' };
                if (bmi < 25) return { category: '‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡πÄ‡∏Å‡∏¥‡∏ô', color: 'text-yellow-600' };
                if (bmi < 30) return { category: '‡∏≠‡πâ‡∏ß‡∏ô‡∏£‡∏∞‡∏î‡∏±‡∏ö 1', color: 'text-orange-600' };
                return { category: '‡∏≠‡πâ‡∏ß‡∏ô‡∏£‡∏∞‡∏î‡∏±‡∏ö 2', color: 'text-red-600' };
            };

            const calculateTotalScore = () => {
                let totalScore = 0;
                formSections.forEach(section => {
                    section.fields.forEach(field => {
                        if (field.score && formData[field.key]) {
                            totalScore += field.score[formData[field.key]] || 0;
                        }
                    });
                });
                return totalScore;
            };

            const generateRecommendations = () => {
                const age = parseInt(formData.age);
                const gender = formData.gender;
                const totalScore = calculateTotalScore();
                const recommendations = [];
                const riskFactors = [];

                // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏õ‡∏±‡∏à‡∏à‡∏±‡∏¢‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á
                if (age >= 45) riskFactors.push(`‡∏≠‡∏≤‡∏¢‡∏∏ ‚â•45 ‡∏õ‡∏µ (‡∏Ñ‡∏±‡∏î‡∏Å‡∏£‡∏≠‡∏á‡∏•‡∏≥‡πÑ‡∏™‡πâ‡πÉ‡∏´‡∏ç‡πà)`);
                if (age >= 50 && gender === 'male') riskFactors.push(`‡∏≠‡∏≤‡∏¢‡∏∏ ‚â•50 ‡∏õ‡∏µ (‡∏Ñ‡∏±‡∏î‡∏Å‡∏£‡∏≠‡∏á‡∏ï‡πà‡∏≠‡∏°‡∏•‡∏π‡∏Å‡∏´‡∏°‡∏≤‡∏Å)`);
                if (age >= 40 && gender === 'female') riskFactors.push(`‡∏≠‡∏≤‡∏¢‡∏∏ ‚â•40 ‡∏õ‡∏µ (‡∏Ñ‡∏±‡∏î‡∏Å‡∏£‡∏≠‡∏á‡πÄ‡∏ï‡πâ‡∏≤‡∏ô‡∏°)`);
                if (formData.familyBreastCancer === 'yes') riskFactors.push('‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏£‡∏±‡∏ß‡∏°‡∏∞‡πÄ‡∏£‡πá‡∏á‡πÄ‡∏ï‡πâ‡∏≤‡∏ô‡∏°');
                if (formData.smokingHistory === 'yes') riskFactors.push('‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏™‡∏π‡∏ö‡∏ö‡∏∏‡∏´‡∏£‡∏µ‡πà');
                if (formData.hepatitisB === 'yes' || formData.hepatitisC === 'yes') riskFactors.push('‡∏ï‡∏¥‡∏î‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡πÑ‡∏ß‡∏£‡∏±‡∏™‡∏ï‡∏±‡∏ö‡∏≠‡∏±‡∏Å‡πÄ‡∏™‡∏ö');

                // ‡∏Ñ‡∏±‡∏î‡∏Å‡∏£‡∏≠‡∏á‡∏°‡∏∞‡πÄ‡∏£‡πá‡∏á‡∏•‡∏≥‡πÑ‡∏™‡πâ‡πÉ‡∏´‡∏ç‡πà
                if (age >= 45) {
                    recommendations.push({
                        type: '‡∏Ñ‡∏±‡∏î‡∏Å‡∏£‡∏≠‡∏á‡∏°‡∏∞‡πÄ‡∏£‡πá‡∏á‡∏•‡∏≥‡πÑ‡∏™‡πâ‡πÉ‡∏´‡∏ç‡πà',
                        category: '‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ',
                        details: [
                            '‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Ñ‡∏±‡∏î‡∏Å‡∏£‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏≠‡∏≤‡∏¢‡∏∏ 45 ‡∏õ‡∏µ',
                            '‡∏™‡πà‡∏≠‡∏á‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏•‡∏≥‡πÑ‡∏™‡πâ‡πÉ‡∏´‡∏ç‡πà‡∏ó‡∏∏‡∏Å 10 ‡∏õ‡∏µ (‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏•‡∏±‡∏Å)',
                            '‡∏´‡∏£‡∏∑‡∏≠ ‡∏ï‡∏£‡∏ß‡∏à‡∏≠‡∏∏‡∏à‡∏à‡∏≤‡∏£‡∏∞‡∏´‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏î (FIT) ‡∏ó‡∏∏‡∏Å‡∏õ‡∏µ (‡∏™‡∏∞‡∏î‡∏ß‡∏Å‡∏Å‡∏ß‡πà‡∏≤)'
                        ],
                        reason: '‡∏≠‡∏≤‡∏¢‡∏∏ 45 ‡∏õ‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô‡πÑ‡∏õ ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Ñ‡∏±‡∏î‡∏Å‡∏£‡∏≠‡∏á‡πÉ‡∏ô‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏Å‡∏£‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ'
                    });
                }

                // ‡∏Ñ‡∏±‡∏î‡∏Å‡∏£‡∏≠‡∏á‡∏°‡∏∞‡πÄ‡∏£‡πá‡∏á‡πÄ‡∏ï‡πâ‡∏≤‡∏ô‡∏°
                if (gender === 'female' && age >= 40) {
                    const priority = formData.familyBreastCancer === 'yes' ? '‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏™‡∏π‡∏á' : '‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ';
                    recommendations.push({
                        type: '‡∏Ñ‡∏±‡∏î‡∏Å‡∏£‡∏≠‡∏á‡∏°‡∏∞‡πÄ‡∏£‡πá‡∏á‡πÄ‡∏ï‡πâ‡∏≤‡∏ô‡∏°',
                        category: priority,
                        details: priority === '‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏™‡∏π‡∏á' 
                            ? ['‡∏ï‡∏£‡∏ß‡∏à mammography ‡∏ó‡∏∏‡∏Å‡∏õ‡∏µ', '‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡πà‡∏≠‡∏ô‡∏≠‡∏≤‡∏¢‡∏∏ 40 ‡∏õ‡∏µ', '‡∏û‡∏¥‡∏à‡∏≤‡∏£‡∏ì‡∏≤ MRI ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°']
                            : ['‡∏ï‡∏£‡∏ß‡∏à mammography ‡∏ó‡∏∏‡∏Å 2 ‡∏õ‡∏µ', '‡∏ï‡∏£‡∏ß‡∏à‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏•‡∏∞‡∏Ñ‡∏£‡∏±‡πâ‡∏á'],
                        reason: priority === '‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏™‡∏π‡∏á' 
                            ? '‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏£‡∏±‡∏ß‡πÄ‡∏õ‡πá‡∏ô‡∏°‡∏∞‡πÄ‡∏£‡πá‡∏á‡πÄ‡∏ï‡πâ‡∏≤‡∏ô‡∏°' 
                            : '‡∏≠‡∏≤‡∏¢‡∏∏ 40 ‡∏õ‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô‡πÑ‡∏õ ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏Ñ‡∏±‡∏î‡∏Å‡∏£‡∏≠‡∏á‡πÉ‡∏ô‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏Å‡∏£‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ'
                    });
                }

                // ‡∏Ñ‡∏±‡∏î‡∏Å‡∏£‡∏≠‡∏á‡∏°‡∏∞‡πÄ‡∏£‡πá‡∏á‡∏õ‡∏≤‡∏Å‡∏°‡∏∏‡∏•‡∏°
                if (gender === 'female' && age >= 25) {
                    const priority = formData.hpvInfection === 'yes' ? '‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏™‡∏π‡∏á' : '‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ';
                    recommendations.push({
                        type: '‡∏Ñ‡∏±‡∏î‡∏Å‡∏£‡∏≠‡∏á‡∏°‡∏∞‡πÄ‡∏£‡πá‡∏á‡∏õ‡∏≤‡∏Å‡∏°‡∏∏‡∏•‡∏°',
                        category: priority,
                        details: priority === '‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏™‡∏π‡∏á'
                            ? ['‡∏ï‡∏£‡∏ß‡∏à Pap smear ‡∏ó‡∏∏‡∏Å‡∏õ‡∏µ', '‡∏ï‡∏£‡∏ß‡∏à HPV ‡∏£‡πà‡∏ß‡∏°‡∏î‡πâ‡∏ß‡∏¢']
                            : ['‡∏ï‡∏£‡∏ß‡∏à Pap smear ‡∏ó‡∏∏‡∏Å 3 ‡∏õ‡∏µ', '‡∏´‡∏£‡∏∑‡∏≠ HPV test ‡∏ó‡∏∏‡∏Å 5 ‡∏õ‡∏µ'],
                        reason: priority === '‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏™‡∏π‡∏á' 
                            ? '‡∏ï‡∏¥‡∏î‡πÄ‡∏ä‡∏∑‡πâ‡∏≠ HPV' 
                            : '‡∏≠‡∏≤‡∏¢‡∏∏ 25 ‡∏õ‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô‡πÑ‡∏õ ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏Ñ‡∏±‡∏î‡∏Å‡∏£‡∏≠‡∏á‡πÉ‡∏ô‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏Å‡∏£‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ'
                    });
                }

                // ‡∏Ñ‡∏±‡∏î‡∏Å‡∏£‡∏≠‡∏á‡∏°‡∏∞‡πÄ‡∏£‡πá‡∏á‡∏ï‡πà‡∏≠‡∏°‡∏•‡∏π‡∏Å‡∏´‡∏°‡∏≤‡∏Å
                if (gender === 'male' && age >= 50) {
                    recommendations.push({
                        type: '‡∏Ñ‡∏±‡∏î‡∏Å‡∏£‡∏≠‡∏á‡∏°‡∏∞‡πÄ‡∏£‡πá‡∏á‡∏ï‡πà‡∏≠‡∏°‡∏•‡∏π‡∏Å‡∏´‡∏°‡∏≤‡∏Å',
                        category: '‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ',
                        details: [
                            '‡∏ï‡∏£‡∏ß‡∏à‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡∏Ñ‡πà‡∏≤ PSA (‡πÅ‡∏û‡∏ó‡∏¢‡πå‡∏à‡∏∞‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏Ç‡πâ‡∏≠‡∏î‡∏µ‚Äì‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏µ‡∏¢‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡πà‡∏ß‡∏°‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à)'
                        ],
                        reason: '‡∏≠‡∏≤‡∏¢‡∏∏ 45‚Äì50 ‡∏õ‡∏µ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ö‡πÅ‡∏û‡∏ó‡∏¢‡πå‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ñ‡∏±‡∏î‡∏Å‡∏£‡∏≠‡∏á (Shared decision)'
                    });
                }

                // ‡∏Ñ‡∏±‡∏î‡∏Å‡∏£‡∏≠‡∏á‡∏°‡∏∞‡πÄ‡∏£‡πá‡∏á‡∏ï‡∏±‡∏ö
                if (formData.hepatitisB === 'yes' || formData.hepatitisC === 'yes') {
                    recommendations.push({
                        type: '‡∏Ñ‡∏±‡∏î‡∏Å‡∏£‡∏≠‡∏á‡∏°‡∏∞‡πÄ‡∏£‡πá‡∏á‡∏ï‡∏±‡∏ö',
                        category: '‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏™‡∏π‡∏á',
                        details: [
                            '‡∏ï‡∏£‡∏ß‡∏à ultrasound ‡∏ä‡πà‡∏≠‡∏á‡∏ó‡πâ‡∏≠‡∏á ‡∏ó‡∏∏‡∏Å 6 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô',
                            '‡∏ï‡∏£‡∏ß‡∏à‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡∏Ñ‡πà‡∏≤ AFP ‡∏ó‡∏∏‡∏Å 6 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô'
                        ],
                        reason: '‡∏ï‡∏¥‡∏î‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡πÑ‡∏ß‡∏£‡∏±‡∏™‡∏ï‡∏±‡∏ö‡∏≠‡∏±‡∏Å‡πÄ‡∏™‡∏ö B ‡∏´‡∏£‡∏∑‡∏≠ C'
                    });
                }

                // ‡∏Ñ‡∏±‡∏î‡∏Å‡∏£‡∏≠‡∏á‡∏°‡∏∞‡πÄ‡∏£‡πá‡∏á‡∏õ‡∏≠‡∏î
                if (formData.smokingHistory === 'yes' && age >= 50) {
                    recommendations.push({
                        type: '‡∏Ñ‡∏±‡∏î‡∏Å‡∏£‡∏≠‡∏á‡∏°‡∏∞‡πÄ‡∏£‡πá‡∏á‡∏õ‡∏≠‡∏î',
                        category: '‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏™‡∏π‡∏á',
                        details: [
                            '‡∏ï‡∏£‡∏ß‡∏à Low-dose CT ‡∏ó‡∏∏‡∏Å‡∏õ‡∏µ',
                            '‡πÄ‡∏•‡∏¥‡∏Å‡∏™‡∏π‡∏ö‡∏ö‡∏∏‡∏´‡∏£‡∏µ‡πà'
                        ],
                        reason: '‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏™‡∏π‡∏ö‡∏ö‡∏∏‡∏´‡∏£‡∏µ‡πà‡πÅ‡∏•‡∏∞‡∏≠‡∏≤‡∏¢‡∏∏ 50 ‡∏õ‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô‡πÑ‡∏õ'
                    });
                }

                // ‡∏Å‡∏≤‡∏£‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï‡∏ú‡∏¥‡∏ß‡∏´‡∏ô‡∏±‡∏á
                recommendations.push({
                    type: '‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï‡∏ú‡∏¥‡∏ß‡∏´‡∏ô‡∏±‡∏á‡∏Ç‡∏≠‡∏á‡∏ï‡∏ô‡πÄ‡∏≠‡∏á',
                    category: '‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏™‡∏£‡∏¥‡∏°',
                    details: [
                        '‡∏´‡∏≤‡∏Å‡∏°‡∏µ‡πÑ‡∏ù/‡∏ï‡∏∏‡πà‡∏°/‡πÅ‡∏ú‡∏•: ‡∏£‡∏π‡∏õ‡∏£‡πà‡∏≤‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ô ‡∏Ç‡∏≠‡∏ö‡πÑ‡∏°‡πà‡πÄ‡∏£‡∏µ‡∏¢‡∏ö ‡∏™‡∏µ‡∏´‡∏•‡∏≤‡∏Å‡∏™‡∏µ ‡∏Ç‡∏ô‡∏≤‡∏î >6 ‡∏°‡∏°. ‡∏´‡∏£‡∏∑‡∏≠‡πÇ‡∏ï‡πÄ‡∏£‡πá‡∏ß ‚Üí ‡πÉ‡∏´‡πâ‡∏û‡∏ö‡πÅ‡∏û‡∏ó‡∏¢‡πå‡∏ú‡∏¥‡∏ß‡∏´‡∏ô‡∏±‡∏á'
                    ],
                    reason: '‡∏ï‡∏£‡∏ß‡∏à‡∏û‡∏ö‡πÑ‡∏ß ‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏´‡∏≤‡∏¢‡∏™‡∏π‡∏á'
                });

                return { recommendations, riskFactors, totalScore };
            };

            const handleInputChange = (key, value) => {
                setFormData(prev => ({
                    ...prev,
                    [key]: value
                }));
            };

            const renderField = (field) => {
                const value = formData[field.key] || '';

                switch (field.type) {
                    case 'number':
                        return (
                            <input
                                type="number"
                                className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"
                                value={value}
                                onChange={(e) => handleInputChange(field.key, e.target.value)}
                                required={field.required}
                                min={field.min}
                                max={field.max}
                                placeholder={field.label}
                            />
                        );
                    
                    case 'select':
                        return (
                            <select
                                className="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"
                                value={value}
                                onChange={(e) => handleInputChange(field.key, e.target.value)}
                                required={field.required}
                            >
                                {field.options.map(option => (
                                    <option key={option.value} value={option.value}>
                                        {option.label}
                                    </option>
                                ))}
                            </select>
                        );
                    
                    case 'radio':
                        return (
                            <div className="flex space-x-6">
                                <label className="flex items-center space-x-2 cursor-pointer">
                                    <input
                                        type="radio"
                                        name={field.key}
                                        value="yes"
                                        checked={value === 'yes'}
                                        onChange={(e) => handleInputChange(field.key, e.target.value)}
                                        className="w-4 h-4 text-blue-600"
                                    />
                                    <span className="text-gray-700">‡∏°‡∏µ</span>
                                </label>
                                <label className="flex items-center space-x-2 cursor-pointer">
                                    <input
                                        type="radio"
                                        name={field.key}
                                        value="no"
                                        checked={value === 'no'}
                                        onChange={(e) => handleInputChange(field.key, e.target.value)}
                                        className="w-4 h-4 text-blue-600"
                                    />
                                    <span className="text-gray-700">‡πÑ‡∏°‡πà‡∏°‡∏µ</span>
                                </label>
                            </div>
                        );
                    
                    default:
                        return null;
                }
            };

            const exportToPDF = () => {
                const { jsPDF } = window.jspdf;
                const doc = new jsPDF();

                doc.setFont("helvetica");
                doc.setFontSize(16);
                doc.text('‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏°‡∏∞‡πÄ‡∏£‡πá‡∏á', 20, 20);
                
                doc.setFontSize(12);
                doc.text(`‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô: ${new Date().toLocaleDateString('th-TH')}`, 20, 35);
                doc.text(`‡∏≠‡∏≤‡∏¢‡∏∏: ${formData.age} ‡∏õ‡∏µ`, 20, 45);
                doc.text(`‡πÄ‡∏û‡∏®: ${formData.gender === 'female' ? '‡∏´‡∏ç‡∏¥‡∏á' : '‡∏ä‡∏≤‡∏¢'}`, 20, 55);
                doc.text(`BMI: ${calculateBMI()}`, 20, 65);
                doc.text(`‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏£‡∏ß‡∏°: ${results.totalScore} ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô`, 20, 75);

                let yPosition = 95;
                
                if (results.riskFactors.length > 0) {
                    doc.setFontSize(14);
                    doc.text('‡∏õ‡∏±‡∏à‡∏à‡∏±‡∏¢‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏ß‡∏à‡∏û‡∏ö:', 20, yPosition);
                    yPosition += 10;
                    
                    doc.setFontSize(10);
                    results.riskFactors.forEach(factor => {
                        doc.text(`‚Ä¢ ${factor}`, 25, yPosition);
                        yPosition += 8;
                    });
                    yPosition += 5;
                }

                results.recommendations.forEach((rec, index) => {
                    doc.setFontSize(12);
                    doc.text(`${rec.type}`, 20, yPosition);
                    yPosition += 8;
                    
                    doc.setFontSize(10);
                    doc.text(`‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà: ${rec.category}`, 25, yPosition);
                    yPosition += 6;
                    
                    rec.details.forEach(detail => {
                        const lines = doc.splitTextToSize(`‚Ä¢ ${detail}`, 170);
                        doc.text(lines, 25, yPosition);
                        yPosition += lines.length * 5;
                    });
                    
                    doc.text(`‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•: ${rec.reason}`, 25, yPosition);
                    yPosition += 12;

                    if (yPosition > 250) {
                        doc.addPage();
                        yPosition = 20;
                    }
                });

                doc.setFontSize(8);
                doc.text('‡∏Ç‡πâ‡∏≠‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏ö‡∏ú‡∏¥‡∏î‡∏ä‡∏≠‡∏ö: ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ô‡∏µ‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô ‡πÑ‡∏°‡πà‡∏ó‡∏î‡πÅ‡∏ó‡∏ô‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏à‡∏≤‡∏Å‡πÅ‡∏û‡∏ó‡∏¢‡πå', 20, yPosition + 20);

                doc.save('cancer-screening-report.pdf');
            };

            const nextSection = () => {
                if (currentSection < formSections.length - 1) {
                    setCurrentSection(currentSection + 1);
                } else {
                    const result = generateRecommendations();
                    setResults(result);
                }
            };

            const prevSection = () => {
                if (currentSection > 0) {
                    setCurrentSection(currentSection - 1);
                }
            };

            const resetForm = () => {
                setResults(null);
                setCurrentSection(0);
                setFormData({
                    age: '', gender: '', height: '', weight: '',
                    familyBreastCancer: 'no', familyColorectalCancer: 'no', familyLiverCancer: 'no',
                    familyLungCancer: 'no', familyProstateCancer: 'no', familyOvarianCancer: 'no',
                    personalCancerHistory: 'no', smokingHistory: 'no', alcoholConsumption: 'no',
                    hepatitisB: 'no', hepatitisC: 'no', hpvInfection: 'no',
                    exerciseRegularly: 'yes', healthyDiet: 'yes', sunExposure: 'no',
                    occupationalExposure: 'no', hormonalTherapy: 'no', radiationHistory: 'no'
                });
            };

            if (results) {
                const bmi = calculateBMI();
                const bmiInfo = bmi ? getBMICategory(parseFloat(bmi)) : null;

                return (
                    <div className="min-h-screen bg-gray-50 py-8">
                        <div className="max-w-6xl mx-auto px-4">
                            {/* Header */}
                            <div className="text-center mb-8">
                                <h1 className="text-3xl font-bold text-gray-800 mb-2">‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡πÅ‡∏•‡∏∞‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥</h1>
                                <p className="text-gray-600">‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥</p>
                            </div>

                            {/* Risk Factors */}
                            {results.riskFactors.length > 0 && (
                                <div className="medical-card bg-white rounded-lg p-6 mb-6">
                                    <h2 className="text-xl font-bold text-gray-800 mb-4">‡∏õ‡∏±‡∏à‡∏à‡∏±‡∏¢‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏ß‡∏à‡∏û‡∏ö:</h2>
                                    <div className="space-y-2">
                                        {results.riskFactors.map((factor, index) => (
                                            <div key={index} className="flex items-center space-x-2">
                                                <span className="w-2 h-2 bg-red-500 rounded-full"></span>
                                                <span className="text-gray-700">{factor}</span>
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            )}

                            {/* Score Display */}
                            <div className="medical-card bg-white rounded-lg p-6 mb-6">
                                <div className="flex items-center justify-between">
                                    <h3 className="text-lg font-semibold text-gray-800">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏£‡∏ß‡∏°</h3>
                                    <div className="flex items-center space-x-4">
                                        <span className="text-2xl font-bold text-blue-600">{results.totalScore}</span>
                                        <span className="text-gray-600">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</span>
                                        <div className={`px-3 py-1 rounded-full text-sm font-medium ${
                                            results.totalScore >= 8 ? 'bg-red-100 text-red-800' :
                                            results.totalScore >= 5 ? 'bg-orange-100 text-orange-800' :
                                            results.totalScore >= 3 ? 'bg-yellow-100 text-yellow-800' :
                                            'bg-green-100 text-green-800'
                                        }`}>
                                            {results.totalScore >= 8 ? '‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏™‡∏π‡∏á' :
                                             results.totalScore >= 5 ? '‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á-‡∏™‡∏π‡∏á' :
                                             results.totalScore >= 3 ? '‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á' :
                                             '‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏ï‡πà‡∏≥'}
                                        </div>
                                    </div>
                                </div>
                            </div>

                            {/* Recommendations */}
                            <div className="grid gap-6 mb-6">
                                {results.recommendations.map((recommendation, index) => (
                                    <div key={index} className="medical-card bg-white rounded-lg p-6">
                                        <h3 className="text-xl font-bold text-gray-800 mb-3">{recommendation.type}</h3>
                                        
                                        <div className="mb-4">
                                            <span className={`inline-block px-3 py-1 rounded-full text-sm font-medium ${
                                                recommendation.category === '‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏™‡∏π‡∏á' ? 'bg-red-100 text-red-800' :
                                                recommendation.category === '‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ' ? 'bg-blue-100 text-blue-800' :
                                                'bg-gray-100 text-gray-800'
                                            }`}>
                                                {recommendation.category}
                                            </span>
                                        </div>

                                        <ul className="space-y-2 mb-4">
                                            {recommendation.details.map((detail, i) => (
                                                <li key={i} className="flex items-start space-x-2">
                                                    <span className="text-blue-500 mt-1">‚Ä¢</span>
                                                    <span className="text-gray-700">{detail}</span>
                                                </li>
                                            ))}
                                        </ul>

                                        <div className="bg-blue-50 rounded-lg p-3">
                                            <p className="text-blue-800 text-sm">
                                                <strong>‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•:</strong> {recommendation.reason}
                                            </p>
                                        </div>
                                    </div>
                                ))}
                            </div>

                            {/* BMI Information */}
                            {bmi && (
                                <div className="medical-card bg-white rounded-lg p-6 mb-6">
                                    <h3 className="text-xl font-bold text-gray-800 mb-3">‡∏î‡∏±‡∏ä‡∏ô‡∏µ‡∏°‡∏ß‡∏•‡∏Å‡∏≤‡∏¢ (BMI) ‚âà {bmi}</h3>
                                    <div className="mb-4">
                                        <span className={`inline-block px-3 py-1 rounded-full text-sm font-medium ${
                                            bmiInfo.color === 'text-green-600' ? 'bg-green-100 text-green-800' :
                                            bmiInfo.color === 'text-yellow-600' ? 'bg-yellow-100 text-yellow-800' :
                                            bmiInfo.color === 'text-orange-600' ? 'bg-orange-100 text-orange-800' :
                                            bmiInfo.color === 'text-red-600' ? 'bg-red-100 text-red-800' :
                                            'bg-blue-100 text-blue-800'
                                        }`}>
                                            {bmiInfo.category}
                                        </span>
                                    </div>
                                    <div className="bg-blue-50 rounded-lg p-3">
                                        <p className="text-blue-800 text-sm">
                                            <strong>‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•:</strong> ‡∏Å‡∏≤‡∏£‡∏î‡∏π‡πÅ‡∏•‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏ä‡πà‡∏ß‡∏¢‡∏•‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏°‡∏∞‡πÄ‡∏£‡πá‡∏á‡∏ó‡∏≤‡∏á‡∏≠‡πâ‡∏≠‡∏°‡∏´‡∏•‡∏≤‡∏¢‡∏ä‡∏ô‡∏¥‡∏î
                                        </p>
                                    </div>
                                </div>
                            )}

                            {/* Actions */}
                            <div className="text-center space-y-4">
                                <button
                                    onClick={exportToPDF}
                                    className="bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-8 rounded-lg transition-colors mr-4"
                                >
                                    üìÑ ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô PDF
                                </button>
                                
                                <button
                                    onClick={resetForm}
                                    className="bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-8 rounded-lg transition-colors"
                                >
                                    üîÑ ‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡πÉ‡∏´‡∏°‡πà
                                </button>
                            </div>

                            {/* Disclaimer */}
                            <div className="mt-8 bg-yellow-50 border-l-4 border-yellow-400 p-6 medical-card">
                                <h3 className="text-lg font-bold text-yellow-800 mb-3">‡∏Ç‡πâ‡∏≠‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏ö‡∏ú‡∏¥‡∏î‡∏ä‡∏≠‡∏ö (Disclaimer)</h3>
                                <ul className="space-y-2 text-yellow-800 text-sm">
                                    <li>‚Ä¢ ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ô‡∏µ‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô ‡πÑ‡∏°‡πà‡∏ó‡∏î‡πÅ‡∏ó‡∏ô‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏à‡∏≤‡∏Å‡πÅ‡∏û‡∏ó‡∏¢‡πå</li>
                                    <li>‚Ä¢ ‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡∏≠‡∏≤‡∏à‡∏õ‡∏£‡∏±‡∏ö‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ï‡∏≤‡∏°‡∏´‡∏•‡∏±‡∏Å‡∏ê‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà ‡πÅ‡∏û‡∏ó‡∏¢‡πå‡∏à‡∏∞‡∏û‡∏¥‡∏à‡∏≤‡∏£‡∏ì‡∏≤‡∏ï‡∏≤‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°‡∏£‡∏≤‡∏¢‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•</li>
                                    <li>‚Ä¢ ‡∏Ñ‡∏ß‡∏£‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤‡πÅ‡∏û‡∏ó‡∏¢‡πå‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ó‡∏≤‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡πÅ‡∏•‡∏∞‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                );
            }

            return (
                <div className="min-h-screen medical-gradient py-8">
                    <div className="max-w-4xl mx-auto px-4">
                        {/* Header */}
                        <div className="text-center mb-8">
                            <h1 className="text-4xl font-bold text-white mb-4">
                                ‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏±‡∏î‡∏Å‡∏£‡∏≠‡∏á‡∏°‡∏∞‡πÄ‡∏£‡πá‡∏á‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå
                            </h1>
                            <p className="text-white opacity-90 text-lg">
                                ‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡πÅ‡∏•‡∏∞‡∏£‡∏±‡∏ö‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏à‡∏≤‡∏Å‡∏ú‡∏π‡πâ‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏ä‡∏≤‡∏ç
                            </p>
                        </div>

                        {/* Progress */}
                        <div className="mb-8">
                            <div className="flex justify-between items-center mb-4">
                                <div className="text-white">
                                    <span className="text-lg font-medium">
                                        {formSections[currentSection].icon} {formSections[currentSection].title}
                                    </span>
                                </div>
                                <span className="text-white opacity-75">
                                    {currentSection + 1} / {formSections.length}
                                </span>
                            </div>
                            <div className="w-full bg-white bg-opacity-20 rounded-full h-3">
                                <div 
                                    className="bg-white h-3 rounded-full transition-all duration-300"
                                    style={{ width: `${((currentSection + 1) / formSections.length) * 100}%` }}
                                ></div>
                            </div>
                        </div>

                        {/* Form */}
                        <div className="medical-card bg-white rounded-xl p-8 mb-6">
                            <div className="space-y-6">
                                {formSections[currentSection].fields.map((field, index) => (
                                    <div key={index} className="space-y-3">
                                        <label className="block text-sm font-semibold text-gray-700">
                                            {field.label}
                                            {field.required && <span className="text-red-500 ml-1">*</span>}
                                            {field.score && (
                                                <span className="ml-2 text-xs text-gray-500">
                                                    (‡∏°‡∏µ: +{field.score.yes} ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô, ‡πÑ‡∏°‡πà‡∏°‡∏µ: +{field.score.no} ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô)
                                                </span>
                                            )}
                                        </label>
                                        {renderField(field)}
                                    </div>
                                ))}
                            </div>

                            <div className="flex justify-between mt-8">
                                <button
                                    onClick={prevSection}
                                    disabled={currentSection === 0}
                                    className={`px-6 py-3 rounded-lg font-medium transition-colors ${
                                        currentSection === 0 
                                            ? 'bg-gray-200 text-gray-400 cursor-not-allowed' 
                                            : 'bg-gray-200 text-gray-700 hover:bg-gray-300'
                                    }`}
                                >
                                    ‚Üê ‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö
                                </button>

                                <button
                                    onClick={nextSection}
                                    className="px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors"
                                >
                                    {currentSection === formSections.length - 1 ? '‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏ú‡∏• ‚Üí' : '‡∏ñ‡∏±‡∏î‡πÑ‡∏õ ‚Üí'}
                                </button>
                            </div>
                        </div>

                        {/* Security Note */}
                        <div className="text-center">
                            <p className="text-white opacity-75 text-sm">
                                üîí ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢ - ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö
                            </p>
                        </div>
                    </div>
                </div>
            );
        };

        ReactDOM.render(<CancerScreeningSystem />, document.getElementById('root'));
    </script>
</body>
</html>
